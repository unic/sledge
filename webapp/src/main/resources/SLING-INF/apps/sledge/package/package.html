<!doctype html>
<html>
<head data-sly-unwrap data-sly-include="../app/head.html"></head>
<body>
    <div class="container-fluid" data-sly-use.model="io.sledge.core.api.models.ApplicationPackage">
        <div class="page-header">
            <h1>Sledge - A Sling Application Manager</h1>
        </div>
        <a href="${resource.parent.path}.html">
            <button class="btn btn-default" type="submit">Back to overview</button>
        </a>
        <h2>Install package: ${resource.name}</h2>
        <div class="package-metadata">
            <p><strong>State:</strong> ${model.state}</p>
        </div>

        <form action="${resource.path}.install.html" method="post" class="form-inline">
            <input type="hidden" name="_charset_" value="UTF-8"/>
            <select id="environment-file-list" name="environmentName" class="form-control"
                    data-sly-list="${model.environmentNames}" data-package-resource-path="${resource.path}">
                <option>${item}</option>
            </select>
            <a><button class="btn btn-primary btn-sm js-load-config-button" type="button">Load config</button></a>
            <div class="panel panel-default configurable-packages-area">
                <div class="panel-heading">Configurable packages</div>
                <div class="panel-body">
                    <ul id="configurable-packages" class="list-group"></ul>
                </div>
            </div>
            <div class="environment-file-area">
                <label for="environment-file-content">Environment config file:</label><br/>
                <textarea id="environment-file-content" name="environmentFileContent" rows="12" cols="80"></textarea>
            </div>
            <input type="hidden" name=":redirect" value="/etc/sledge/packages.html" />
            <button class="btn btn-primary btn-sm js-package-install" type="submit">Start installation</button>
        </form>
    </div>
    <div data-sly-unwrap data-sly-include="../app/bodyEnd.html"></div>
</body>
</html>
